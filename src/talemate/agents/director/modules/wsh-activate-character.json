{
  "title": "Wsh Activate Character",
  "id": "7cc13f01-5b52-46ab-8d76-092a13c5281a",
  "properties": {
    "name": "activate_character",
    "agent": "director"
  },
  "x": 0,
  "y": 0,
  "width": 200,
  "height": 100,
  "collapsed": false,
  "inherited": false,
  "registry": "agents/director/wshActivateCharacter",
  "nodes": {
    "478a3dc9-4d5c-4e2d-93a9-2ec73576390c": {
      "title": "As Bool",
      "id": "478a3dc9-4d5c-4e2d-93a9-2ec73576390c",
      "properties": {
        "default": false
      },
      "x": 587,
      "y": 84,
      "width": 210,
      "height": 58,
      "collapsed": false,
      "inherited": false,
      "registry": "core/AsBool",
      "base_type": "core/Node"
    },
    "08d20a90-152f-4592-b8cc-e310fd21179e": {
      "title": "GET obj.character_name",
      "id": "08d20a90-152f-4592-b8cc-e310fd21179e",
      "properties": {
        "attribute": "character_name"
      },
      "x": 317,
      "y": -146,
      "width": 210,
      "height": 98,
      "collapsed": false,
      "inherited": false,
      "registry": "data/Get",
      "base_type": "core/Node"
    },
    "3bf3185d-e79a-4920-880c-4d032772781e": {
      "title": "Validate Character",
      "id": "3bf3185d-e79a-4920-880c-4d032772781e",
      "properties": {
        "error_message": "",
        "character_status": "inactive",
        "create_placeholder": false
      },
      "x": 587,
      "y": -146,
      "width": 227,
      "height": 126,
      "collapsed": false,
      "inherited": false,
      "registry": "validation/ValidateCharacter",
      "base_type": "core/Node"
    },
    "830147b6-081b-48c9-a96d-734c45875fe2": {
      "title": "SET local.character",
      "id": "830147b6-081b-48c9-a96d-734c45875fe2",
      "properties": {
        "name": "character",
        "scope": "local"
      },
      "x": 857,
      "y": -136,
      "width": 210,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/SetState",
      "base_type": "core/Node"
    },
    "9645420c-a461-49ab-bbd5-ad64a5825bef": {
      "title": "SET local.never_narrate",
      "id": "9645420c-a461-49ab-bbd5-ad64a5825bef",
      "properties": {
        "name": "never_narrate",
        "scope": "local"
      },
      "x": 837,
      "y": 64,
      "width": 210,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/SetState",
      "base_type": "core/Node"
    },
    "3b75c030-41d5-48ae-92cc-fbb01c5a260c": {
      "title": "GET local.never_narrate",
      "id": "3b75c030-41d5-48ae-92cc-fbb01c5a260c",
      "properties": {
        "name": "never_narrate",
        "scope": "local"
      },
      "x": 26,
      "y": 490,
      "width": 210,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/GetState",
      "base_type": "core/Node"
    },
    "214334a5-dfc6-4613-ae3d-6787c9bb5ce9": {
      "title": "Switch",
      "id": "214334a5-dfc6-4613-ae3d-6787c9bb5ce9",
      "properties": {
        "pass_through": true
      },
      "x": 316,
      "y": 520,
      "width": 210,
      "height": 78,
      "collapsed": false,
      "inherited": false,
      "registry": "core/Switch",
      "base_type": "core/Node"
    },
    "19ad7992-5f66-4635-a0e8-674108491606": {
      "title": "GET local.character",
      "id": "19ad7992-5f66-4635-a0e8-674108491606",
      "properties": {
        "name": "character",
        "scope": "local"
      },
      "x": 352,
      "y": 650,
      "width": 210,
      "height": 122,
      "collapsed": true,
      "inherited": false,
      "registry": "state/GetState",
      "base_type": "core/Node"
    },
    "87e3b991-b8dd-4464-855f-4c93babc9135": {
      "title": "Determine Character Presence",
      "id": "87e3b991-b8dd-4464-855f-4c93babc9135",
      "properties": {
        "check": "present"
      },
      "x": 606,
      "y": 530,
      "width": 235,
      "height": 78,
      "collapsed": false,
      "inherited": false,
      "registry": "agents/world_state/DetermineCharacterPresence",
      "base_type": "core/Node"
    },
    "c60d7df3-554a-4cf9-9a65-61571bcc78b3": {
      "title": "SET local.is_present",
      "id": "c60d7df3-554a-4cf9-9a65-61571bcc78b3",
      "properties": {
        "name": "is_present",
        "scope": "local"
      },
      "x": 906,
      "y": 530,
      "width": 210,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/SetState",
      "base_type": "core/Node"
    },
    "7bc48e25-bc76-486a-96f0-a3a3632963c5": {
      "title": "Stage 1",
      "id": "7bc48e25-bc76-486a-96f0-a3a3632963c5",
      "properties": {
        "stage": 1
      },
      "x": 1176,
      "y": 542,
      "width": 210,
      "height": 118,
      "collapsed": false,
      "inherited": false,
      "registry": "core/Stage",
      "base_type": "core/Node"
    },
    "04bf4d98-7167-4800-95aa-d68bb61d8646": {
      "title": "GET local.character",
      "id": "04bf4d98-7167-4800-95aa-d68bb61d8646",
      "properties": {
        "name": "character",
        "scope": "local"
      },
      "x": 46,
      "y": 782,
      "width": 210,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/GetState",
      "base_type": "core/Node"
    },
    "5959af38-c906-4b7d-b250-c71a3c37d30e": {
      "title": "GET local.never_narrate",
      "id": "5959af38-c906-4b7d-b250-c71a3c37d30e",
      "properties": {
        "name": "never_narrate",
        "scope": "local"
      },
      "x": 37,
      "y": 1203,
      "width": 210,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/GetState",
      "base_type": "core/Node"
    },
    "3cc9f6f5-e2bd-4d00-93b0-2985b324247f": {
      "title": "NOT",
      "id": "3cc9f6f5-e2bd-4d00-93b0-2985b324247f",
      "properties": {
        "pass_through": false
      },
      "x": 287,
      "y": 1253,
      "width": 210,
      "height": 78,
      "collapsed": true,
      "inherited": false,
      "registry": "core/Switch",
      "base_type": "core/Node"
    },
    "5947464b-7328-4d48-a83c-a2421e142182": {
      "title": "Jinja2 Format",
      "id": "5947464b-7328-4d48-a83c-a2421e142182",
      "properties": {
        "template": "How does {{ character.name }} enter the scene? You may leave this blank for the AI to decide.\n\nCancel to not narrate at all."
      },
      "x": 537,
      "y": 1283,
      "width": 210,
      "height": 133,
      "collapsed": false,
      "inherited": false,
      "registry": "prompt/Jinja2Format",
      "dynamic_inputs": [
        {
          "name": "item0",
          "type": "*"
        }
      ],
      "base_type": "core/DynamicSocketNodeBase"
    },
    "c61c344e-5d38-4b6e-ac79-7629f801f325": {
      "title": "Style UX Element",
      "id": "c61c344e-5d38-4b6e-ac79-7629f801f325",
      "properties": {
        "tint": "narrator",
        "icon": "mdi-human-greeting"
      },
      "x": 1247,
      "y": 1123,
      "width": 210,
      "height": 142,
      "collapsed": false,
      "inherited": false,
      "registry": "ux/StyleElement",
      "base_type": "core/Node"
    },
    "77d316f3-2056-43c9-9b0f-21bf4cc8d3d5": {
      "title": "SET local.guidance",
      "id": "77d316f3-2056-43c9-9b0f-21bf4cc8d3d5",
      "properties": {
        "name": "guidance",
        "scope": "local"
      },
      "x": 1757,
      "y": 1143,
      "width": 210,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/SetState",
      "base_type": "core/Node"
    },
    "febdb2e2-1b71-4450-ba6f-67ab84ee33f0": {
      "title": "AND Router",
      "id": "febdb2e2-1b71-4450-ba6f-67ab84ee33f0",
      "properties": {},
      "x": 599,
      "y": 1040,
      "width": 140,
      "height": 106,
      "collapsed": false,
      "inherited": false,
      "registry": "core/ANDRouter",
      "base_type": "core/Node"
    },
    "cfed4983-af1b-473e-ae5b-4682eb6238af": {
      "title": "GET local.never_narrate",
      "id": "cfed4983-af1b-473e-ae5b-4682eb6238af",
      "properties": {
        "name": "never_narrate",
        "scope": "local"
      },
      "x": 33,
      "y": 1954,
      "width": 210,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/GetState",
      "base_type": "core/Node"
    },
    "c5ec3144-d3d1-4089-9831-452a13b0fa4a": {
      "title": "NOT",
      "id": "c5ec3144-d3d1-4089-9831-452a13b0fa4a",
      "properties": {
        "pass_through": false
      },
      "x": 283,
      "y": 2004,
      "width": 210,
      "height": 78,
      "collapsed": true,
      "inherited": false,
      "registry": "core/Switch",
      "base_type": "core/Node"
    },
    "114ce90e-389f-479a-9add-6c31c7cc46f9": {
      "title": "GET local.guidance",
      "id": "114ce90e-389f-479a-9add-6c31c7cc46f9",
      "properties": {
        "name": "guidance",
        "scope": "local"
      },
      "x": 24,
      "y": 2141,
      "width": 210,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/GetState",
      "base_type": "core/Node"
    },
    "c0a9df29-8bc6-47c7-ba52-c86320b5439f": {
      "title": "GET local.character",
      "id": "c0a9df29-8bc6-47c7-ba52-c86320b5439f",
      "properties": {
        "name": "character",
        "scope": "local"
      },
      "x": 26,
      "y": 1388,
      "width": 210,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/GetState",
      "base_type": "core/Node"
    },
    "ac58069f-a4b9-4e13-b79f-ec5f974cf21e": {
      "title": "AND Router",
      "id": "ac58069f-a4b9-4e13-b79f-ec5f974cf21e",
      "properties": {},
      "x": 440,
      "y": 1793,
      "width": 140,
      "height": 106,
      "collapsed": false,
      "inherited": false,
      "registry": "core/ANDRouter",
      "base_type": "core/Node"
    },
    "b0255821-33ad-427b-8b27-79226bdfe43b": {
      "title": "GET local.character",
      "id": "b0255821-33ad-427b-8b27-79226bdfe43b",
      "properties": {
        "name": "character",
        "scope": "local"
      },
      "x": 30,
      "y": 2323,
      "width": 210,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/GetState",
      "base_type": "core/Node"
    },
    "6b70a2c9-5c70-4ea5-8798-7d76e9c3070b": {
      "title": "Generate Character Entry Narration",
      "id": "6b70a2c9-5c70-4ea5-8798-7d76e9c3070b",
      "properties": {
        "response_length": 0
      },
      "x": 690,
      "y": 2013,
      "width": 286,
      "height": 118,
      "collapsed": false,
      "inherited": false,
      "registry": "agents/narrator/GenerateCharacterEntryNarration",
      "base_type": "core/Node"
    },
    "5c0453e2-3fbf-4a33-8aaa-5450c80d4c4e": {
      "title": "Push History",
      "id": "5c0453e2-3fbf-4a33-8aaa-5450c80d4c4e",
      "properties": {
        "emit_message": true
      },
      "x": 1050,
      "y": 2023,
      "width": 210,
      "height": 58,
      "collapsed": false,
      "inherited": false,
      "registry": "scene/history/Push",
      "base_type": "core/Node"
    },
    "0326a167-e068-493f-af34-8d72ec6da587": {
      "title": "GET obj.never_narrate",
      "id": "0326a167-e068-493f-af34-8d72ec6da587",
      "properties": {
        "attribute": "never_narrate"
      },
      "x": 304,
      "y": 76,
      "width": 210,
      "height": 98,
      "collapsed": false,
      "inherited": false,
      "registry": "data/Get",
      "base_type": "core/Node"
    },
    "dc0a4978-b56c-400e-be28-db6dd4ea23b5": {
      "title": "Argument",
      "id": "dc0a4978-b56c-400e-be28-db6dd4ea23b5",
      "properties": {
        "name": "data",
        "typ": "any"
      },
      "x": 24,
      "y": 76,
      "width": 210,
      "height": 82,
      "collapsed": false,
      "inherited": false,
      "registry": "core/functions/Argument",
      "base_type": "core/Node"
    },
    "ff309560-8639-4c87-950d-175ae9a2dba7": {
      "title": "SET local.websocket_router",
      "id": "ff309560-8639-4c87-950d-175ae9a2dba7",
      "properties": {
        "name": "websocket_router",
        "scope": "local"
      },
      "x": 824,
      "y": 266,
      "width": 218,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/SetState",
      "base_type": "core/Node"
    },
    "0ae1041e-5eba-4313-8381-10ade7bd4644": {
      "title": "Stage 0",
      "id": "0ae1041e-5eba-4313-8381-10ade7bd4644",
      "properties": {
        "stage": 0
      },
      "x": 1214,
      "y": 66,
      "width": 210,
      "height": 118,
      "collapsed": false,
      "inherited": false,
      "registry": "core/Stage",
      "base_type": "core/Node"
    },
    "035b595f-920a-40f9-b4e0-d9d73d109ca9": {
      "title": "Argument",
      "id": "035b595f-920a-40f9-b4e0-d9d73d109ca9",
      "properties": {
        "name": "websocket_router",
        "typ": "any"
      },
      "x": 34,
      "y": 296,
      "width": 210,
      "height": 82,
      "collapsed": false,
      "inherited": false,
      "registry": "core/functions/Argument",
      "base_type": "core/Node"
    },
    "1d4f0b79-d196-4918-b863-3c0604e671c0": {
      "title": "Stage 4",
      "id": "1d4f0b79-d196-4918-b863-3c0604e671c0",
      "properties": {
        "stage": 4
      },
      "x": 1340,
      "y": 2023,
      "width": 210,
      "height": 118,
      "collapsed": false,
      "inherited": false,
      "registry": "core/Stage",
      "base_type": "core/Node"
    },
    "929f02ef-6024-4753-bdc6-6b39bc74e321": {
      "title": "GET local.websocket_router",
      "id": "929f02ef-6024-4753-bdc6-6b39bc74e321",
      "properties": {
        "name": "websocket_router",
        "scope": "local"
      },
      "x": 1340,
      "y": 2223,
      "width": 218,
      "height": 122,
      "collapsed": true,
      "inherited": false,
      "registry": "state/GetState",
      "base_type": "core/Node"
    },
    "833da1d2-3846-4429-a29d-490f064c6582": {
      "title": "Websocket Operation Done",
      "id": "833da1d2-3846-4429-a29d-490f064c6582",
      "properties": {
        "signal_only": false,
        "allow_auto_save": true,
        "emit_status_message": ""
      },
      "x": 1640,
      "y": 2073,
      "width": 304,
      "height": 186,
      "collapsed": false,
      "inherited": false,
      "registry": "websocket/signals/OperationDone",
      "base_type": "core/Node"
    },
    "2a969963-db37-4c30-b630-8eec4952da5c": {
      "title": "Websocket Operation Done",
      "id": "2a969963-db37-4c30-b630-8eec4952da5c",
      "properties": {
        "signal_only": false,
        "allow_auto_save": true,
        "emit_status_message": ""
      },
      "x": 1769,
      "y": 1480,
      "width": 304,
      "height": 186,
      "collapsed": false,
      "inherited": false,
      "registry": "websocket/signals/OperationDone",
      "base_type": "core/Node"
    },
    "ec021031-ad48-4188-b9f5-c775e3065fa8": {
      "title": "Stop",
      "id": "ec021031-ad48-4188-b9f5-c775e3065fa8",
      "properties": {
        "exception": "StopGraphExecution"
      },
      "x": 2119,
      "y": 1500,
      "width": 210,
      "height": 78,
      "collapsed": false,
      "inherited": false,
      "registry": "raise/Stop",
      "base_type": "core/Node"
    },
    "3452e028-aba1-449c-b81b-b3f17f795e01": {
      "title": "Stage 3",
      "id": "3452e028-aba1-449c-b81b-b3f17f795e01",
      "properties": {
        "stage": 3
      },
      "x": 2479,
      "y": 1350,
      "width": 210,
      "height": 118,
      "collapsed": false,
      "inherited": false,
      "registry": "core/Stage",
      "base_type": "core/Node"
    },
    "67cf8b31-d4b3-4ce3-9626-67364b899449": {
      "title": "GET local.websocket_router",
      "id": "67cf8b31-d4b3-4ce3-9626-67364b899449",
      "properties": {
        "name": "websocket_router",
        "scope": "local"
      },
      "x": 1469,
      "y": 1530,
      "width": 218,
      "height": 122,
      "collapsed": true,
      "inherited": false,
      "registry": "state/GetState",
      "base_type": "core/Node"
    },
    "61b2c88c-8884-4e00-a05e-630dfb165707": {
      "title": "GET local.is_present",
      "id": "61b2c88c-8884-4e00-a05e-630dfb165707",
      "properties": {
        "name": "is_present",
        "scope": "local"
      },
      "x": 37,
      "y": 1013,
      "width": 210,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/GetState",
      "base_type": "core/Node"
    },
    "0db81485-fc16-480c-b878-4fd8534a36a7": {
      "title": "NOT",
      "id": "0db81485-fc16-480c-b878-4fd8534a36a7",
      "properties": {
        "pass_through": false
      },
      "x": 299,
      "y": 1060,
      "width": 210,
      "height": 78,
      "collapsed": true,
      "inherited": false,
      "registry": "core/Switch",
      "base_type": "core/Node"
    },
    "21f3fab6-c58a-4b3d-b3f8-4e76ad8fe9f4": {
      "title": "GET local.is_present",
      "id": "21f3fab6-c58a-4b3d-b3f8-4e76ad8fe9f4",
      "properties": {
        "name": "is_present",
        "scope": "local"
      },
      "x": 24,
      "y": 1771,
      "width": 210,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/GetState",
      "base_type": "core/Node"
    },
    "4dbe7461-1489-475e-8cc5-4a65439598a0": {
      "title": "NOT",
      "id": "4dbe7461-1489-475e-8cc5-4a65439598a0",
      "properties": {
        "pass_through": false
      },
      "x": 280,
      "y": 1823,
      "width": 210,
      "height": 78,
      "collapsed": true,
      "inherited": false,
      "registry": "core/Switch",
      "base_type": "core/Node"
    },
    "fdb29036-6a6e-4f40-9923-9816187e0bb5": {
      "title": "Build Text Input Element",
      "id": "fdb29036-6a6e-4f40-9923-9816187e0bb5",
      "properties": {
        "closable": true,
        "timeout_seconds": 0,
        "element_title": "Narrator Instructions",
        "element_body": "",
        "multiline": true,
        "rows": 3,
        "placeholder": "",
        "default": "",
        "trim": true
      },
      "x": 877,
      "y": 1023,
      "width": 262,
      "height": 490,
      "collapsed": false,
      "inherited": false,
      "registry": "ux/BuildTextInputElement",
      "base_type": "core/Node"
    },
    "d2dcf73b-eb0b-4f55-8f45-706628d19b76": {
      "title": "Emit UX Element",
      "id": "d2dcf73b-eb0b-4f55-8f45-706628d19b76",
      "properties": {},
      "x": 1517,
      "y": 1133,
      "width": 178,
      "height": 146,
      "collapsed": false,
      "inherited": false,
      "registry": "ux/EmitElement",
      "base_type": "core/Node"
    },
    "15923280-8900-48b2-886c-a31255bf86c1": {
      "title": "Switch",
      "id": "15923280-8900-48b2-886c-a31255bf86c1",
      "properties": {
        "pass_through": true
      },
      "x": 1509,
      "y": 1400,
      "width": 210,
      "height": 78,
      "collapsed": false,
      "inherited": false,
      "registry": "core/Switch",
      "base_type": "core/Node"
    },
    "20c90b1a-7ee1-46e6-8ef0-14b244e34ad1": {
      "title": "Activate Character",
      "id": "20c90b1a-7ee1-46e6-8ef0-14b244e34ad1",
      "properties": {},
      "x": 330,
      "y": 809,
      "width": 161,
      "height": 26,
      "collapsed": false,
      "inherited": false,
      "registry": "scene/ActivateCharacter",
      "base_type": "core/Node"
    },
    "127131ad-d9e8-4540-b34b-a57dd5e498c6": {
      "title": "Emit Scene Status",
      "id": "127131ad-d9e8-4540-b34b-a57dd5e498c6",
      "properties": {},
      "x": 550,
      "y": 809,
      "width": 155,
      "height": 26,
      "collapsed": false,
      "inherited": false,
      "registry": "event/EmitSceneStatus",
      "base_type": "core/Node"
    },
    "11de4b35-459f-4ff2-8344-d657b4802538": {
      "title": "Emit World State",
      "id": "11de4b35-459f-4ff2-8344-d657b4802538",
      "properties": {},
      "x": 730,
      "y": 810,
      "width": 140,
      "height": 26,
      "collapsed": false,
      "inherited": false,
      "registry": "agents/world_state/EmitWorldState",
      "base_type": "core/Node"
    },
    "3e781206-adc5-43c8-8838-d1fb58544bae": {
      "title": "Stage 2",
      "id": "3e781206-adc5-43c8-8838-d1fb58544bae",
      "properties": {
        "stage": 2
      },
      "x": 930,
      "y": 800,
      "width": 210,
      "height": 118,
      "collapsed": false,
      "inherited": false,
      "registry": "core/Stage",
      "base_type": "core/Node"
    }
  },
  "edges": {
    "478a3dc9-4d5c-4e2d-93a9-2ec73576390c.value": [
      "9645420c-a461-49ab-bbd5-ad64a5825bef.value"
    ],
    "08d20a90-152f-4592-b8cc-e310fd21179e.value": [
      "3bf3185d-e79a-4920-880c-4d032772781e.value"
    ],
    "3bf3185d-e79a-4920-880c-4d032772781e.character": [
      "830147b6-081b-48c9-a96d-734c45875fe2.value"
    ],
    "830147b6-081b-48c9-a96d-734c45875fe2.value": [
      "0ae1041e-5eba-4313-8381-10ade7bd4644.state"
    ],
    "9645420c-a461-49ab-bbd5-ad64a5825bef.value": [
      "0ae1041e-5eba-4313-8381-10ade7bd4644.state_b"
    ],
    "3b75c030-41d5-48ae-92cc-fbb01c5a260c.value": [
      "214334a5-dfc6-4613-ae3d-6787c9bb5ce9.value"
    ],
    "214334a5-dfc6-4613-ae3d-6787c9bb5ce9.no": [
      "87e3b991-b8dd-4464-855f-4c93babc9135.state"
    ],
    "19ad7992-5f66-4635-a0e8-674108491606.value": [
      "87e3b991-b8dd-4464-855f-4c93babc9135.character"
    ],
    "87e3b991-b8dd-4464-855f-4c93babc9135.yes": [
      "c60d7df3-554a-4cf9-9a65-61571bcc78b3.value"
    ],
    "c60d7df3-554a-4cf9-9a65-61571bcc78b3.value": [
      "7bc48e25-bc76-486a-96f0-a3a3632963c5.state"
    ],
    "04bf4d98-7167-4800-95aa-d68bb61d8646.value": [
      "20c90b1a-7ee1-46e6-8ef0-14b244e34ad1.character"
    ],
    "5959af38-c906-4b7d-b250-c71a3c37d30e.value": [
      "3cc9f6f5-e2bd-4d00-93b0-2985b324247f.value"
    ],
    "3cc9f6f5-e2bd-4d00-93b0-2985b324247f.no": [
      "febdb2e2-1b71-4450-ba6f-67ab84ee33f0.b"
    ],
    "5947464b-7328-4d48-a83c-a2421e142182.result": [
      "fdb29036-6a6e-4f40-9923-9816187e0bb5.body"
    ],
    "c61c344e-5d38-4b6e-ac79-7629f801f325.state": [
      "d2dcf73b-eb0b-4f55-8f45-706628d19b76.state"
    ],
    "c61c344e-5d38-4b6e-ac79-7629f801f325.ux_element": [
      "d2dcf73b-eb0b-4f55-8f45-706628d19b76.ux_element"
    ],
    "77d316f3-2056-43c9-9b0f-21bf4cc8d3d5.value": [
      "3452e028-aba1-449c-b81b-b3f17f795e01.state"
    ],
    "febdb2e2-1b71-4450-ba6f-67ab84ee33f0.yes": [
      "fdb29036-6a6e-4f40-9923-9816187e0bb5.state"
    ],
    "cfed4983-af1b-473e-ae5b-4682eb6238af.value": [
      "c5ec3144-d3d1-4089-9831-452a13b0fa4a.value"
    ],
    "c5ec3144-d3d1-4089-9831-452a13b0fa4a.no": [
      "ac58069f-a4b9-4e13-b79f-ec5f974cf21e.b"
    ],
    "114ce90e-389f-479a-9add-6c31c7cc46f9.value": [
      "6b70a2c9-5c70-4ea5-8798-7d76e9c3070b.narrative_direction"
    ],
    "c0a9df29-8bc6-47c7-ba52-c86320b5439f.value": [
      "5947464b-7328-4d48-a83c-a2421e142182.item0"
    ],
    "ac58069f-a4b9-4e13-b79f-ec5f974cf21e.yes": [
      "6b70a2c9-5c70-4ea5-8798-7d76e9c3070b.state"
    ],
    "b0255821-33ad-427b-8b27-79226bdfe43b.value": [
      "6b70a2c9-5c70-4ea5-8798-7d76e9c3070b.character"
    ],
    "6b70a2c9-5c70-4ea5-8798-7d76e9c3070b.message": [
      "5c0453e2-3fbf-4a33-8aaa-5450c80d4c4e.message"
    ],
    "5c0453e2-3fbf-4a33-8aaa-5450c80d4c4e.message": [
      "1d4f0b79-d196-4918-b863-3c0604e671c0.state"
    ],
    "0326a167-e068-493f-af34-8d72ec6da587.value": [
      "478a3dc9-4d5c-4e2d-93a9-2ec73576390c.value"
    ],
    "dc0a4978-b56c-400e-be28-db6dd4ea23b5.value": [
      "08d20a90-152f-4592-b8cc-e310fd21179e.object",
      "0326a167-e068-493f-af34-8d72ec6da587.object"
    ],
    "ff309560-8639-4c87-950d-175ae9a2dba7.value": [
      "0ae1041e-5eba-4313-8381-10ade7bd4644.state_c"
    ],
    "035b595f-920a-40f9-b4e0-d9d73d109ca9.value": [
      "ff309560-8639-4c87-950d-175ae9a2dba7.value"
    ],
    "1d4f0b79-d196-4918-b863-3c0604e671c0.state": [
      "833da1d2-3846-4429-a29d-490f064c6582.state"
    ],
    "929f02ef-6024-4753-bdc6-6b39bc74e321.value": [
      "833da1d2-3846-4429-a29d-490f064c6582.websocket_router"
    ],
    "2a969963-db37-4c30-b630-8eec4952da5c.state": [
      "ec021031-ad48-4188-b9f5-c775e3065fa8.state"
    ],
    "ec021031-ad48-4188-b9f5-c775e3065fa8.state": [
      "3452e028-aba1-449c-b81b-b3f17f795e01.state_b"
    ],
    "67cf8b31-d4b3-4ce3-9626-67364b899449.value": [
      "2a969963-db37-4c30-b630-8eec4952da5c.websocket_router"
    ],
    "61b2c88c-8884-4e00-a05e-630dfb165707.value": [
      "0db81485-fc16-480c-b878-4fd8534a36a7.value"
    ],
    "0db81485-fc16-480c-b878-4fd8534a36a7.no": [
      "febdb2e2-1b71-4450-ba6f-67ab84ee33f0.a"
    ],
    "21f3fab6-c58a-4b3d-b3f8-4e76ad8fe9f4.value": [
      "4dbe7461-1489-475e-8cc5-4a65439598a0.value"
    ],
    "4dbe7461-1489-475e-8cc5-4a65439598a0.no": [
      "ac58069f-a4b9-4e13-b79f-ec5f974cf21e.a"
    ],
    "fdb29036-6a6e-4f40-9923-9816187e0bb5.state": [
      "c61c344e-5d38-4b6e-ac79-7629f801f325.state"
    ],
    "fdb29036-6a6e-4f40-9923-9816187e0bb5.ux_element": [
      "c61c344e-5d38-4b6e-ac79-7629f801f325.ux_element"
    ],
    "d2dcf73b-eb0b-4f55-8f45-706628d19b76.value": [
      "77d316f3-2056-43c9-9b0f-21bf4cc8d3d5.value"
    ],
    "d2dcf73b-eb0b-4f55-8f45-706628d19b76.cancelled": [
      "15923280-8900-48b2-886c-a31255bf86c1.value"
    ],
    "15923280-8900-48b2-886c-a31255bf86c1.yes": [
      "2a969963-db37-4c30-b630-8eec4952da5c.state"
    ],
    "20c90b1a-7ee1-46e6-8ef0-14b244e34ad1.character": [
      "127131ad-d9e8-4540-b34b-a57dd5e498c6.state"
    ],
    "127131ad-d9e8-4540-b34b-a57dd5e498c6.state": [
      "11de4b35-459f-4ff2-8344-d657b4802538.state"
    ],
    "11de4b35-459f-4ff2-8344-d657b4802538.state": [
      "3e781206-adc5-43c8-8838-d1fb58544bae.state"
    ]
  },
  "groups": [
    {
      "title": "Input",
      "x": -1,
      "y": -221,
      "width": 1450,
      "height": 634,
      "color": "#88A",
      "font_size": 24,
      "inherited": false
    },
    {
      "title": "Activate Character",
      "x": -1,
      "y": 415,
      "width": 1410,
      "height": 520,
      "color": "#3f789e",
      "font_size": 24,
      "inherited": false
    },
    {
      "title": "UX - Prompt for narrator instructions",
      "x": 1,
      "y": 938,
      "width": 2713,
      "height": 753,
      "color": "#00796B",
      "font_size": 24,
      "inherited": false
    },
    {
      "title": "Process - Narrate character entry",
      "x": -1,
      "y": 1696,
      "width": 1970,
      "height": 774,
      "color": "#3f789e",
      "font_size": 24,
      "inherited": false
    }
  ],
  "comments": [],
  "extends": null,
  "base_type": "agents/AgentWebsocketHandler",
  "inputs": [],
  "outputs": [
    {
      "id": "a3f007c2-2e7a-4b59-8b27-5ae8ceb1720b",
      "name": "fn",
      "optional": false,
      "group": null,
      "socket_type": "function"
    },
    {
      "id": "341d12e2-b021-4f5b-91b1-f2bb0f57da06",
      "name": "name",
      "optional": false,
      "group": null,
      "socket_type": "str"
    },
    {
      "id": "6f9eda88-2337-4e22-881b-efb58a97fb76",
      "name": "allow_multiple_calls",
      "optional": false,
      "group": null,
      "socket_type": "bool"
    },
    {
      "id": "925b0e7b-d9cf-4b05-a44c-48d204d5a250",
      "name": "ai_callback",
      "optional": false,
      "group": null,
      "socket_type": "focal/callback"
    }
  ],
  "module_properties": {
    "name": {
      "name": "name",
      "description": "The name of the handler",
      "type": "str",
      "default": "",
      "choices": null,
      "readonly": false,
      "step": null,
      "min": null,
      "max": null,
      "ephemeral": false
    },
    "agent": {
      "name": "agent",
      "description": "The agent to register the handler on",
      "type": "str",
      "default": "",
      "choices": [],
      "readonly": false,
      "step": null,
      "min": null,
      "max": null,
      "ephemeral": false
    }
  },
  "style": {
    "title_color": "#573a2e",
    "node_color": "#392f2c",
    "icon": "F0295",
    "auto_title": null,
    "counterpart": null
  }
}