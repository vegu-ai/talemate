{
  "title": "Select Actor For Turn",
  "id": "564ed794-bbef-4e93-9f8a-2619c8cb1138",
  "properties": {},
  "x": 0,
  "y": 0,
  "width": 200,
  "height": 100,
  "collapsed": false,
  "inherited": false,
  "registry": "scene/SelectActorForTurn",
  "nodes": {
    "d90648b8-0c36-4752-bcc7-6d243c9c0037": {
      "title": "Get Scene State",
      "id": "d90648b8-0c36-4752-bcc7-6d243c9c0037",
      "properties": {},
      "x": 28,
      "y": 103,
      "width": 140,
      "height": 106,
      "collapsed": false,
      "inherited": false,
      "registry": "scene/GetSceneState",
      "base_type": "core/Node"
    },
    "2784ffa2-3b65-4bbf-8800-a217ac0ec8e1": {
      "title": "auto_progress",
      "id": "2784ffa2-3b65-4bbf-8800-a217ac0ec8e1",
      "properties": {},
      "x": 208,
      "y": 203,
      "width": 140,
      "height": 26,
      "collapsed": true,
      "inherited": false,
      "registry": "core/Watch",
      "base_type": "core/Node"
    },
    "d5151375-dc27-4a95-bf5c-a49b07675b55": {
      "title": "NOT",
      "id": "d5151375-dc27-4a95-bf5c-a49b07675b55",
      "properties": {},
      "x": 388,
      "y": 203,
      "width": 140,
      "height": 26,
      "collapsed": true,
      "inherited": false,
      "registry": "core/Invert",
      "base_type": "core/Node"
    },
    "db2d9f24-c17c-4518-8dcf-9aef8836d030": {
      "title": "OR Router",
      "id": "db2d9f24-c17c-4518-8dcf-9aef8836d030",
      "properties": {},
      "x": 518,
      "y": 173,
      "width": 140,
      "height": 106,
      "collapsed": false,
      "inherited": false,
      "registry": "core/ORRouter",
      "base_type": "core/Node"
    },
    "36eb2632-372a-4eb5-bd0c-67a44309fa86": {
      "title": "skip_to_player",
      "id": "36eb2632-372a-4eb5-bd0c-67a44309fa86",
      "properties": {},
      "x": 278,
      "y": 275,
      "width": 140,
      "height": 26,
      "collapsed": false,
      "inherited": false,
      "registry": "core/Watch",
      "base_type": "core/Node"
    },
    "9efc5633-2fe6-44ab-945e-992c4ec81dc6": {
      "title": "GET shared.skip_to_player",
      "id": "9efc5633-2fe6-44ab-945e-992c4ec81dc6",
      "properties": {
        "name": "skip_to_player",
        "scope": "shared"
      },
      "x": 28,
      "y": 275,
      "width": 210,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/GetState",
      "base_type": "core/Node"
    },
    "029da949-4922-440f-837b-b65d3cd4eb7b": {
      "title": "SET local.always_yield_to_user",
      "id": "029da949-4922-440f-837b-b65d3cd4eb7b",
      "properties": {
        "name": "always_yield_to_user",
        "scope": "local"
      },
      "x": 688,
      "y": 173,
      "width": 255,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/SetState",
      "base_type": "core/Node"
    },
    "25d103db-739d-4985-be50-613fc307d5b4": {
      "title": "GET local.always_yield_to_user",
      "id": "25d103db-739d-4985-be50-613fc307d5b4",
      "properties": {
        "name": "always_yield_to_user",
        "scope": "local"
      },
      "x": 28,
      "y": 508,
      "width": 262,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/GetState",
      "base_type": "core/Node"
    },
    "66424cea-d547-4450-9a52-e1b170738f1b": {
      "title": "Switch",
      "id": "66424cea-d547-4450-9a52-e1b170738f1b",
      "properties": {
        "pass_through": true
      },
      "x": 336,
      "y": 554,
      "width": 210,
      "height": 78,
      "collapsed": false,
      "inherited": false,
      "registry": "core/Switch",
      "base_type": "core/Node"
    },
    "f1f3d2e6-4684-452d-893d-b4cb48904f5a": {
      "title": "Get Player Character",
      "id": "f1f3d2e6-4684-452d-893d-b4cb48904f5a",
      "properties": {},
      "x": 626,
      "y": 624,
      "width": 212,
      "height": 34,
      "collapsed": false,
      "inherited": false,
      "registry": "scene/GetPlayerCharacter",
      "base_type": "core/Node"
    },
    "7655dd96-dca1-4896-a888-62dcb5e8820e": {
      "title": "RSwitch",
      "id": "7655dd96-dca1-4896-a888-62dcb5e8820e",
      "properties": {},
      "x": 876,
      "y": 554,
      "width": 140,
      "height": 66,
      "collapsed": false,
      "inherited": false,
      "registry": "core/RSwitch",
      "base_type": "core/Node"
    },
    "91c2b10d-74f5-4a4d-946c-7931b00d73a0": {
      "title": "NOT",
      "id": "91c2b10d-74f5-4a4d-946c-7931b00d73a0",
      "properties": {},
      "x": 1438,
      "y": 1626,
      "width": 140,
      "height": 26,
      "collapsed": true,
      "inherited": false,
      "registry": "core/Invert",
      "base_type": "core/Node"
    },
    "4a9247f1-e78b-4c81-b0ec-d71e35f9b585": {
      "title": "GET local.character",
      "id": "4a9247f1-e78b-4c81-b0ec-d71e35f9b585",
      "properties": {
        "name": "character",
        "scope": "local"
      },
      "x": 28,
      "y": 1486,
      "width": 210,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/GetState",
      "base_type": "core/Node"
    },
    "7f177917-32ec-451b-b530-66d0900ce7f9": {
      "title": "character",
      "id": "7f177917-32ec-451b-b530-66d0900ce7f9",
      "properties": {},
      "x": 278,
      "y": 1606,
      "width": 140,
      "height": 26,
      "collapsed": true,
      "inherited": false,
      "registry": "core/Watch",
      "base_type": "core/Node"
    },
    "1c8bed5b-b140-4edc-900a-f938c2639ff1": {
      "title": "Switch",
      "id": "1c8bed5b-b140-4edc-900a-f938c2639ff1",
      "properties": {
        "pass_through": true
      },
      "x": 498,
      "y": 1446,
      "width": 210,
      "height": 78,
      "collapsed": false,
      "inherited": false,
      "registry": "core/Switch",
      "base_type": "core/Node"
    },
    "4cdae8b0-015f-42f1-b0f8-86b4c091ebea": {
      "title": "RSwitch Advanced",
      "id": "4cdae8b0-015f-42f1-b0f8-86b4c091ebea",
      "properties": {},
      "x": 808,
      "y": 1506,
      "width": 161,
      "height": 68,
      "collapsed": false,
      "inherited": false,
      "registry": "core/RSwitchAdvanced",
      "base_type": "core/Node"
    },
    "644d39ea-440e-47ae-92b0-15ffcc702bfe": {
      "title": "Unpack Character",
      "id": "644d39ea-440e-47ae-92b0-15ffcc702bfe",
      "properties": {},
      "x": 1148,
      "y": 1566,
      "width": 212,
      "height": 146,
      "collapsed": false,
      "inherited": false,
      "registry": "scene/UnpackCharacter",
      "base_type": "core/Node"
    },
    "a962b3d1-3ce1-4e49-896f-91b474273444": {
      "title": "Coallesce",
      "id": "a962b3d1-3ce1-4e49-896f-91b474273444",
      "properties": {},
      "x": 1408,
      "y": 1466,
      "width": 140,
      "height": 86,
      "collapsed": false,
      "inherited": false,
      "registry": "core/Coallesce",
      "base_type": "core/Node"
    },
    "e81b24ca-ebe7-47f9-b89c-0a7ed70c36cc": {
      "title": "TRUE",
      "id": "e81b24ca-ebe7-47f9-b89c-0a7ed70c36cc",
      "properties": {
        "value": true
      },
      "x": 498,
      "y": 1646,
      "width": 210,
      "height": 58,
      "collapsed": false,
      "inherited": false,
      "registry": "core/MakeBool",
      "base_type": "core/Node"
    },
    "f4ebabcd-8c72-4aaf-b74a-6e0a99d6abab": {
      "title": "SET local.character",
      "id": "f4ebabcd-8c72-4aaf-b74a-6e0a99d6abab",
      "properties": {
        "name": "character",
        "scope": "local"
      },
      "x": 1351,
      "y": 562,
      "width": 210,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/SetState",
      "base_type": "core/Node"
    },
    "a0a89451-06df-4e3b-8b9b-a86a8c3e21f9": {
      "title": "SET local.character",
      "id": "a0a89451-06df-4e3b-8b9b-a86a8c3e21f9",
      "properties": {
        "name": "character",
        "scope": "local"
      },
      "x": 1801,
      "y": 752,
      "width": 210,
      "height": 122,
      "collapsed": false,
      "inherited": false,
      "registry": "state/SetState",
      "base_type": "core/Node"
    },
    "44e83102-3be3-4ae9-8f0c-1a12ae3e21ea": {
      "title": "RSwitch Advanced",
      "id": "44e83102-3be3-4ae9-8f0c-1a12ae3e21ea",
      "properties": {},
      "x": 1571,
      "y": 842,
      "width": 182,
      "height": 68,
      "collapsed": false,
      "inherited": false,
      "registry": "core/RSwitchAdvanced",
      "base_type": "core/Node"
    },
    "c8c9451c-0846-4199-bc1d-8a60a72b0fd9": {
      "title": "Get Player Character",
      "id": "c8c9451c-0846-4199-bc1d-8a60a72b0fd9",
      "properties": {},
      "x": 1321,
      "y": 982,
      "width": 219,
      "height": 29,
      "collapsed": false,
      "inherited": false,
      "registry": "scene/GetPlayerCharacter",
      "base_type": "core/Node"
    },
    "93f1569e-7129-4263-a5fa-588b640a1e7b": {
      "title": "OUT state",
      "id": "93f1569e-7129-4263-a5fa-588b640a1e7b",
      "properties": {
        "output_type": "any",
        "output_name": "state",
        "num": 0
      },
      "x": 1578,
      "y": 1146,
      "width": 210,
      "height": 106,
      "collapsed": false,
      "inherited": false,
      "registry": "core/Output",
      "base_type": "core/Node"
    },
    "1cf1fd4e-ee62-4236-94b5-bb6d4809fc10": {
      "title": "OUT character",
      "id": "1cf1fd4e-ee62-4236-94b5-bb6d4809fc10",
      "properties": {
        "output_type": "character",
        "output_name": "character",
        "num": 1
      },
      "x": 1578,
      "y": 1316,
      "width": 210,
      "height": 106,
      "collapsed": false,
      "inherited": false,
      "registry": "core/Output",
      "base_type": "core/Node"
    },
    "a22b412b-d500-4b23-81ad-b9c114f41577": {
      "title": "OUT player",
      "id": "a22b412b-d500-4b23-81ad-b9c114f41577",
      "properties": {
        "output_type": "bool",
        "output_name": "player",
        "num": 2
      },
      "x": 1578,
      "y": 1466,
      "width": 210,
      "height": 106,
      "collapsed": false,
      "inherited": false,
      "registry": "core/Output",
      "base_type": "core/Node"
    },
    "71cbd983-82cf-4826-aada-05e9f408f4c3": {
      "title": "OUT ai",
      "id": "71cbd983-82cf-4826-aada-05e9f408f4c3",
      "properties": {
        "output_type": "bool",
        "output_name": "ai",
        "num": 3
      },
      "x": 1578,
      "y": 1616,
      "width": 211,
      "height": 106,
      "collapsed": false,
      "inherited": false,
      "registry": "core/Output",
      "base_type": "core/Node"
    },
    "9913cbcd-3174-4d32-9314-46b045875d73": {
      "title": "IN state",
      "id": "9913cbcd-3174-4d32-9314-46b045875d73",
      "properties": {
        "input_type": "any",
        "input_name": "state",
        "input_optional": false,
        "input_group": "",
        "num": 0
      },
      "x": 1328,
      "y": 1146,
      "width": 210,
      "height": 154,
      "collapsed": false,
      "inherited": false,
      "registry": "core/Input",
      "base_type": "core/Node"
    },
    "49c4ed95-e5bb-48a4-a800-f07866141664": {
      "title": "Stage 1",
      "id": "49c4ed95-e5bb-48a4-a800-f07866141664",
      "properties": {
        "stage": 1
      },
      "x": 1000,
      "y": 200,
      "width": 210,
      "height": 118,
      "collapsed": true,
      "inherited": false,
      "registry": "core/Stage",
      "base_type": "core/Node"
    },
    "039be56c-d8bc-4093-bd34-47f784fe51d8": {
      "title": "Stage 2",
      "id": "039be56c-d8bc-4093-bd34-47f784fe51d8",
      "properties": {
        "stage": 2
      },
      "x": 2050,
      "y": 660,
      "width": 210,
      "height": 118,
      "collapsed": false,
      "inherited": false,
      "registry": "core/Stage",
      "base_type": "core/Node"
    },
    "ff36d639-edb3-46ec-9045-9fa055dc11e0": {
      "title": "GET obj.-1",
      "id": "ff36d639-edb3-46ec-9045-9fa055dc11e0",
      "properties": {
        "attribute": "-1"
      },
      "x": 900,
      "y": 1010,
      "width": 210,
      "height": 98,
      "collapsed": true,
      "inherited": false,
      "registry": "data/Get",
      "base_type": "core/Node"
    },
    "5c2f05e1-c7e5-4855-9cd7-b9d5612cc0c4": {
      "title": "Get Player Character",
      "id": "5c2f05e1-c7e5-4855-9cd7-b9d5612cc0c4",
      "properties": {},
      "x": 890,
      "y": 940,
      "width": 212,
      "height": 34,
      "collapsed": true,
      "inherited": false,
      "registry": "scene/GetPlayerCharacter",
      "base_type": "core/Node"
    },
    "447044a8-65ac-4a88-8a63-76e9f281b527": {
      "title": "RSwitch",
      "id": "447044a8-65ac-4a88-8a63-76e9f281b527",
      "properties": {},
      "x": 1140,
      "y": 870,
      "width": 140,
      "height": 66,
      "collapsed": false,
      "inherited": false,
      "registry": "core/RSwitch",
      "base_type": "core/Node"
    },
    "cf8f5ad8-9996-4d57-b6f9-b342c029a3a4": {
      "title": "Character Activity",
      "id": "cf8f5ad8-9996-4d57-b6f9-b342c029a3a4",
      "properties": {
        "since_time_passage": true
      },
      "x": 590,
      "y": 870,
      "width": 230,
      "height": 78,
      "collapsed": false,
      "inherited": false,
      "registry": "scene/history/ActiveCharacterActivity",
      "base_type": "core/Node"
    }
  },
  "edges": {
    "d90648b8-0c36-4752-bcc7-6d243c9c0037.auto_progress": [
      "2784ffa2-3b65-4bbf-8800-a217ac0ec8e1.value"
    ],
    "2784ffa2-3b65-4bbf-8800-a217ac0ec8e1.value": [
      "d5151375-dc27-4a95-bf5c-a49b07675b55.value"
    ],
    "d5151375-dc27-4a95-bf5c-a49b07675b55.value": [
      "db2d9f24-c17c-4518-8dcf-9aef8836d030.a"
    ],
    "db2d9f24-c17c-4518-8dcf-9aef8836d030.yes": [
      "029da949-4922-440f-837b-b65d3cd4eb7b.value"
    ],
    "36eb2632-372a-4eb5-bd0c-67a44309fa86.value": [
      "db2d9f24-c17c-4518-8dcf-9aef8836d030.b"
    ],
    "9efc5633-2fe6-44ab-945e-992c4ec81dc6.value": [
      "36eb2632-372a-4eb5-bd0c-67a44309fa86.value"
    ],
    "029da949-4922-440f-837b-b65d3cd4eb7b.name": [
      "49c4ed95-e5bb-48a4-a800-f07866141664.state"
    ],
    "25d103db-739d-4985-be50-613fc307d5b4.value": [
      "66424cea-d547-4450-9a52-e1b170738f1b.value"
    ],
    "66424cea-d547-4450-9a52-e1b170738f1b.yes": [
      "7655dd96-dca1-4896-a888-62dcb5e8820e.check"
    ],
    "f1f3d2e6-4684-452d-893d-b4cb48904f5a.character": [
      "7655dd96-dca1-4896-a888-62dcb5e8820e.yes"
    ],
    "7655dd96-dca1-4896-a888-62dcb5e8820e.value": [
      "f4ebabcd-8c72-4aaf-b74a-6e0a99d6abab.value"
    ],
    "91c2b10d-74f5-4a4d-946c-7931b00d73a0.value": [
      "71cbd983-82cf-4826-aada-05e9f408f4c3.value"
    ],
    "4a9247f1-e78b-4c81-b0ec-d71e35f9b585.value": [
      "7f177917-32ec-451b-b530-66d0900ce7f9.value"
    ],
    "7f177917-32ec-451b-b530-66d0900ce7f9.value": [
      "1c8bed5b-b140-4edc-900a-f938c2639ff1.value",
      "4cdae8b0-015f-42f1-b0f8-86b4c091ebea.yes"
    ],
    "1c8bed5b-b140-4edc-900a-f938c2639ff1.yes": [
      "4cdae8b0-015f-42f1-b0f8-86b4c091ebea.check"
    ],
    "4cdae8b0-015f-42f1-b0f8-86b4c091ebea.yes": [
      "644d39ea-440e-47ae-92b0-15ffcc702bfe.character",
      "1cf1fd4e-ee62-4236-94b5-bb6d4809fc10.value"
    ],
    "4cdae8b0-015f-42f1-b0f8-86b4c091ebea.no": [
      "a962b3d1-3ce1-4e49-896f-91b474273444.a"
    ],
    "644d39ea-440e-47ae-92b0-15ffcc702bfe.is_player": [
      "91c2b10d-74f5-4a4d-946c-7931b00d73a0.value",
      "a962b3d1-3ce1-4e49-896f-91b474273444.b"
    ],
    "a962b3d1-3ce1-4e49-896f-91b474273444.value": [
      "a22b412b-d500-4b23-81ad-b9c114f41577.value"
    ],
    "e81b24ca-ebe7-47f9-b89c-0a7ed70c36cc.value": [
      "4cdae8b0-015f-42f1-b0f8-86b4c091ebea.no"
    ],
    "f4ebabcd-8c72-4aaf-b74a-6e0a99d6abab.name": [
      "039be56c-d8bc-4093-bd34-47f784fe51d8.state"
    ],
    "a0a89451-06df-4e3b-8b9b-a86a8c3e21f9.name": [
      "039be56c-d8bc-4093-bd34-47f784fe51d8.state_b"
    ],
    "44e83102-3be3-4ae9-8f0c-1a12ae3e21ea.yes": [
      "a0a89451-06df-4e3b-8b9b-a86a8c3e21f9.value"
    ],
    "c8c9451c-0846-4199-bc1d-8a60a72b0fd9.character": [
      "44e83102-3be3-4ae9-8f0c-1a12ae3e21ea.no"
    ],
    "9913cbcd-3174-4d32-9314-46b045875d73.value": [
      "93f1569e-7129-4263-a5fa-588b640a1e7b.value"
    ],
    "ff36d639-edb3-46ec-9045-9fa055dc11e0.value": [
      "447044a8-65ac-4a88-8a63-76e9f281b527.no"
    ],
    "5c2f05e1-c7e5-4855-9cd7-b9d5612cc0c4.character": [
      "447044a8-65ac-4a88-8a63-76e9f281b527.yes"
    ],
    "447044a8-65ac-4a88-8a63-76e9f281b527.value": [
      "44e83102-3be3-4ae9-8f0c-1a12ae3e21ea.check",
      "44e83102-3be3-4ae9-8f0c-1a12ae3e21ea.yes"
    ],
    "cf8f5ad8-9996-4d57-b6f9-b342c029a3a4.none_have_acted": [
      "447044a8-65ac-4a88-8a63-76e9f281b527.check"
    ],
    "cf8f5ad8-9996-4d57-b6f9-b342c029a3a4.characters": [
      "ff36d639-edb3-46ec-9045-9fa055dc11e0.object"
    ]
  },
  "groups": [
    {
      "title": "Outputs",
      "x": 3,
      "y": 1065,
      "width": 1811,
      "height": 681,
      "color": "#8A8",
      "font_size": 24,
      "inherited": false
    },
    {
      "title": "Select Actor Round Robin",
      "x": 3,
      "y": 428,
      "width": 2283,
      "height": 634,
      "color": "#3f789e",
      "font_size": 24,
      "inherited": false
    },
    {
      "title": "Determine always_yield_to_user",
      "x": 3,
      "y": 4,
      "width": 1252,
      "height": 421,
      "color": "#3f789e",
      "font_size": 24,
      "inherited": false
    }
  ],
  "comments": [
    {
      "text": "If auto progress is turned OFF always yield back to the user.",
      "x": 208,
      "y": 84,
      "width": 200,
      "inherited": false
    },
    {
      "text": "Something has flagged skip_to_player, which indicates we need to yield to the user.",
      "x": 268,
      "y": 325,
      "width": 292,
      "inherited": false
    },
    {
      "text": "Only proceed to round robin selection if always_yield_to_user isnt true.",
      "x": 342,
      "y": 659,
      "width": 200,
      "inherited": false
    },
    {
      "text": "Default to player character if no character could be selected for whatever reason.",
      "x": 1571,
      "y": 942,
      "width": 200,
      "inherited": false
    },
    {
      "text": "Returns a list of a characters sorted by their activity in the scene. Sorted by most recent first.\n\nIf none have acted default to player character.",
      "x": 590,
      "y": 710,
      "width": 333,
      "inherited": false
    }
  ],
  "extends": null,
  "base_type": "core/Graph",
  "inputs": [],
  "outputs": [],
  "style": null
}